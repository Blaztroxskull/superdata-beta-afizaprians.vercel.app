<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SuperData by Hafiz Apriansyah</title>
    <!-- Memuat React -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Memuat Babel untuk menerjemahkan JSX di browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* CSS Global untuk memastikan tampilan penuh */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #0B0F19;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        #root {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- Ini adalah tempat aplikasi kita akan muncul -->
    <div id="root"></div>

    <!-- Ini adalah kode aplikasi kita, sekarang di dalam tag script -->
    <script type="text/babel">

        // --- HAK CIPTA & PENGEMBANG UTAMA ---
        const CREATOR_INFO = {
          fullName: "Hafiz Apriansyah",
          anonymousName: "Afizaprians",
          role: "Original Creator & Lead Architect"
        };

        // --- KAMUS TRANSLASI (i18n) ---
        const i18n = {
            English: {
                tagline: "Secure, Scan, and Safeguard Your Digital Identity.",
                login: "Login",
                register: "Register",
                loginTitle: "Access Your Dashboard",
                registerTitle: "Create Your Account",
                loginButton: "Login",
                registerButton: "Register",
                forgotPassword: "Forgot Password?",
                welcome: "Welcome",
                loggedInAs: "You are logged in as",
                repCheck: "Reputation Check",
                repCheckDesc: "Scan your digital footprint.",
                restoreName: "Restore Name",
                restoreNameDesc: "Get guidance to clear records.",
                digitalVault: "Digital Vault",
                digitalVaultDesc: "Store documents securely.",
                logout: "Logout",
                logoutDesc: "Exit your session.",
                scanTitle: "Reputation Check",
                scanSubtitle: "Enter data to start the scan.",
                scanFullName: "Full Name (as per ID)",
                scanDob: "Date of Birth (DD-MM-YYYY)",
                scanEmail: "Primary Email",
                scanPhone: "Phone Number (Premium+)",
                scanNik: "National ID (NIK - Pro)",
                scanKk: "Family Card No. (KK - Pro)",
                secureScanActive: "Secure Anonymous Scan Activated",
                scanDisclaimer: "Your data is encrypted and used only for this process.",
                startScan: "Start Scan",
                scanResults: "Scan Results",
                summary: "Summary",
                creditScore: "Credit Score",
                dataBreaches: "Detected in Data Breaches",
                publicSentiment: "Online Public Sentiment",
                blacklistStatus: "Company Blacklist Status",
                phoneLeak: "Phone Number Registrations",
                nikLeak: "NIK/KK Misuse Found",
                recActions: "Recommended Actions",
                proFeature: "Pro Feature",
                deepWeb: "Deep Web Analysis",
                startRecovery: "Start Recovery with AURA",
                restoreTitle: "AI-Powered Name Restoration",
                restoreDesc: "AURA will guide you through a 3-step process to reclaim your digital reputation.",
                backToDash: "Back to Dashboard",
                vaultTitle: "Digital Vault",
                vaultDesc: "Your files are end-to-end encrypted. Only you can access them.",
                uploadButton: "Add New File",
                vaultEmpty: "Your vault is empty. Add a file to secure it.",
                step1: "Step 1: AI Analysis",
                step1Desc: "AURA analyzes your scan results to identify the core issue.",
                step2: "Step 2: Document Generation",
                step2Desc: "AURA drafts a formal legal document tailored to your case.",
                step3: "Step 3: Guided Submission",
                step3Desc: "We provide you with the document and instructions on where to send it.",
                generateDoc: "Generate Document",
                pwResetTitle: "Reset Password",
                pwResetDesc: "Enter your registered email to receive an OTP.",
                sendOtp: "Send OTP",
                otpTitle: "Verify OTP",
                otpDesc: "An OTP has been sent to your email.",
                verifyOtp: "Verify OTP",
                newPwTitle: "Set New Password",
                newPwDesc: "Your new password must be different from the previous one.",
                newPassword: "New Password",
                confirmPassword: "Confirm New Password",
                updatePassword: "Update Password",
                pwSuccess: "Password updated successfully!",
                adminDashboard: "Admin Dashboard",
                userManagement: "User Management",
                platformMonitoring: "Platform Monitoring",
                apiStatus: "API Services",
                dbStatus: "Database Connection",
                auraEngine: "AURA Engine Status",
                online: "Online",
                stable: "Stable",
                active: "Active",
                userPOV: "User Point of View",
                viewAsFree: "View as Free",
                viewAsPremium: "View as Premium",
                viewAsPro: "View as Pro",
                adminBannerText: "You are viewing as a",
                returnToAdmin: "Return to Admin Dashboard",
                rec1: "Enable Two-Factor Authentication on primary email.",
                rec2: "Review privacy settings on social media accounts.",
                rec3: "Dispute an incorrect entry on credit report (guidance available).",
                source: "Source",
                context: "Context",
                auraTitle: "AURA Core Interface",
                auraWelcome: "Welcome to my core. I am constantly learning and analyzing data to better protect you. How can I assist?",
                auraPlaceholder: "Ask AURA anything...",
                auraSecure: "Secure Connection Established...",
                upgradeTitle: "Upgrade Membership",
                upgradeSubtitle: "Unlock powerful features to fully protect your identity.",
                premiumFeature1: "Phone Number Scan",
                premiumFeature2: "Advanced Data Breach Analysis",
                proFeature1: "All Premium Features",
                proFeature2: "NIK & KK Deep Scan",
                proFeature3: "Dark Web Monitoring",
                payWithPayPal: "Pay with PayPal",
                payWithBCA: "Bank Transfer (BCA)",
                bcaNumber: "Account Number: 5260660901",
                bcaName: "a/n Hafiz Apriansyah",
                confirmPayment: "I Have Paid, Activate Features",
                paymentNote: "Note: For beta testing, activation is manual. In the final version, this process will be automatic and instant after payment is verified.",
                upgradeToPremium: "Upgrade to Premium",
                upgradeToPro: "Upgrade to Pro",
            },
            Indonesia: {
                tagline: "Amankan, Pindai, dan Lindungi Identitas Digital Anda.",
                login: "Masuk",
                register: "Daftar",
                loginTitle: "Akses Dasbor Anda",
                registerTitle: "Buat Akun Anda",
                loginButton: "Masuk",
                registerButton: "Daftar",
                forgotPassword: "Lupa Password?",
                welcome: "Selamat Datang",
                loggedInAs: "Anda masuk sebagai",
                repCheck: "Cek Reputasi",
                repCheckDesc: "Pindai jejak digital Anda.",
                restoreName: "Pulihkan Nama",
                restoreNameDesc: "Dapatkan panduan memulihkan nama.",
                digitalVault: "Brankas Digital",
                digitalVaultDesc: "Simpan dokumen dengan aman.",
                logout: "Keluar",
                logoutDesc: "Keluar dari sesi Anda.",
                scanTitle: "Pengecekan Reputasi",
                scanSubtitle: "Masukkan data untuk memulai pemindaian.",
                scanFullName: "Nama Lengkap (sesuai KTP)",
                scanDob: "Tanggal Lahir (HH-BB-TTTT)",
                scanEmail: "Email Utama",
                scanPhone: "Nomor Telepon (Premium+)",
                scanNik: "NIK (Pro)",
                scanKk: "No. Kartu Keluarga (Pro)",
                secureScanActive: "Pemindaian Anonim Aman Diaktifkan",
                scanDisclaimer: "Data Anda dienkripsi dan hanya digunakan untuk proses ini.",
                startScan: "Mulai Pindai",
                scanResults: "Hasil Pemindaian",
                summary: "Ringkasan",
                creditScore: "Skor Kredit",
                dataBreaches: "Terdeteksi di Kebocoran Data",
                publicSentiment: "Sentimen Publik Online",
                blacklistStatus: "Status Daftar Hitam Perusahaan",
                phoneLeak: "Registrasi Nomor Telepon",
                nikLeak: "Penyalahgunaan NIK/KK Ditemukan",
                recActions: "Rekomendasi Tindakan",
                proFeature: "Fitur Pro",
                deepWeb: "Analisis Deep Web",
                startRecovery: "Mulai Pemulihan dengan AURA",
                restoreTitle: "Pemulihan Nama Berbasis AI",
                restoreDesc: "AURA akan memandu Anda melalui 3 langkah proses untuk memulihkan reputasi digital Anda.",
                backToDash: "Kembali ke Dasbor",
                vaultTitle: "Brankas Digital",
                vaultDesc: "File Anda terenkripsi end-to-end. Hanya Anda yang bisa mengaksesnya.",
                uploadButton: "Tambah File Baru",
                vaultEmpty: "Brankas Anda kosong. Tambahkan file untuk mengamankannya.",
                step1: "Langkah 1: Analisis AI",
                step1Desc: "AURA menganalisis hasil pindaian Anda untuk mengidentifikasi inti masalah.",
                step2: "Langkah 2: Pembuatan Dokumen",
                step2Desc: "AURA membuat draf dokumen legal yang disesuaikan dengan kasus Anda.",
                step3: "Langkah 3: Pengiriman Terpandu",
                step3Desc: "Kami menyediakan dokumen dan instruksi ke mana harus mengirimkannya.",
                generateDoc: "Buat Dokumen",
                pwResetTitle: "Atur Ulang Password",
                pwResetDesc: "Masukkan email terdaftar Anda untuk menerima OTP.",
                sendOtp: "Kirim OTP",
                otpTitle: "Verifikasi OTP",
                otpDesc: "Sebuah kode OTP telah dikirim ke email Anda.",
                verifyOtp: "Verifikasi OTP",
                newPwTitle: "Buat Password Baru",
                newPwDesc: "Password baru Anda harus berbeda dari sebelumnya.",
                newPassword: "Password Baru",
                confirmPassword: "Konfirmasi Password Baru",
                updatePassword: "Perbarui Password",
                pwSuccess: "Password berhasil diperbarui!",
                adminDashboard: "Dasbor Admin",
                userManagement: "Manajemen Pengguna",
                platformMonitoring: "Monitoring Platform",
                apiStatus: "Layanan API",
                dbStatus: "Koneksi Database",
                auraEngine: "Status Mesin AURA",
                online: "Online",
                stable: "Stabil",
                active: "Aktif",
                userPOV: "Sudut Pandang Pengguna",
                viewAsFree: "Lihat sebagai Free",
                viewAsPremium: "Lihat sebagai Premium",
                viewAsPro: "Lihat sebagai Pro",
                adminBannerText: "Anda melihat sebagai pengguna",
                returnToAdmin: "Kembali ke Dasbor Admin",
                rec1: "Aktifkan Otentikasi Dua Faktor (2FA) di email utama Anda.",
                rec2: "Tinjau pengaturan privasi di semua akun media sosial Anda.",
                rec3: "Ajukan sengketa untuk entri yang salah pada laporan kredit Anda (panduan tersedia).",
                source: "Sumber",
                context: "Konteks",
                auraTitle: "Antarmuka Inti AURA",
                auraWelcome: "Selamat datang di inti saya. Saya terus belajar dan menganalisis data untuk melindungi Anda dengan lebih baik. Apa yang bisa saya bantu?",
                auraPlaceholder: "Tanyakan apa saja pada AURA...",
                auraSecure: "Koneksi Aman Terhubung...",
                upgradeTitle: "Upgrade Keanggotaan",
                upgradeSubtitle: "Buka fitur canggih untuk melindungi identitas Anda sepenuhnya.",
                premiumFeature1: "Pemindaian Nomor Telepon",
                premiumFeature2: "Analisis Kebocoran Data Lanjutan",
                proFeature1: "Semua Fitur Premium",
                proFeature2: "Pemindaian Mendalam NIK & KK",
                proFeature3: "Pemantauan Dark Web",
                payWithPayPal: "Bayar dengan PayPal",
                payWithBCA: "Transfer Bank (BCA)",
                bcaNumber: "Nomor Rekening: 5260660901",
                bcaName: "a/n Hafiz Apriansyah",
                confirmPayment: "Saya Sudah Membayar, Aktifkan Fitur",
                paymentNote: "Catatan: Untuk uji coba beta, aktivasi bersifat manual. Di versi final, proses ini akan otomatis dan instan setelah pembayaran terverifikasi.",
                upgradeToPremium: "Upgrade ke Premium",
                upgradeToPro: "Upgrade ke Pro",
            },
        };

        i18n.Mandarin = { ...i18n.English, welcome: "欢迎" };
        i18n.German = { ...i18n.English, welcome: "Willkommen" };
        i18n.Arabic = { ...i18n.English, welcome: "أهلاً بك" };
        i18n.Russia = { ...i18n.English, welcome: "Добро пожаловать" };
        i18n.France = { ...i18n.English, welcome: "Bienvenue" };
        i18n.Japan = { ...i18n.English, welcome: "ようこそ" };
        i18n.Korea = { ...i18n.English, welcome: "환영합니다" };
        i18n.Spain = { ...i18n.English, welcome: "Bienvenido" };
        i18n.Turkey = { ...i18n.English, welcome: "Hoşgeldiniz" };
        i18n.Netherland = { ...i18n.English, welcome: "Welkom" };
        i18n.Italia = { ...i18n.English, welcome: "Benvenuto" };
        i18n.Portugis = { ...i18n.English, welcome: "Bem-vindo" };
        i18n.Hindi = { ...i18n.English, welcome: " स्वागत है" };

        const { useState, useEffect, useRef } = React;

        // --- Icon Components ---
        const Icon = ({ name, size = 24, color = '#E0E0E0' }) => {
          const icons = {
            shieldCheck: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 2ZM10.95 17.54L7.45 14.04L8.86 12.63L10.95 14.72L15.14 10.53L16.55 11.94L10.95 17.54Z" fill={color}/></svg>),
            userScan: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill={color}/><path d="M18.95 15.14C19.59 16.03 20 17.13 20 18.3V20H22V18C22 15.34 16.67 14 14 14C13.5 14 12.83 14.06 12.23 14.15C13.85 15.16 15.75 16.38 15.75 18.3H17.88C17.11 17.09 16.05 16.15 14.78 15.53C16.13 15.23 17.65 15.04 18.95 15.14Z" fill="#00E5FF"/><path d="M11.77 14.15C11.17 14.06 10.5 14 10 14C7.33 14 2 15.34 2 18V20H9.25C9.25 16.38 11.15 15.16 12.77 14.15Z" fill="#00E5FF"/></svg>),
            vault: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17Z" fill={color}/><circle cx="12" cy="12" r="3" fill="#00E5FF"/></svg>),
            aiBot: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 2H4C2.9 2 2.01 2.9 2.01 4L2 22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM9.5 13C8.67 13 8 12.33 8 11.5S8.67 10 9.5 10S11 10.67 11 11.5S10.33 13 9.5 13ZM14.5 13C13.67 13 13 12.33 13 11.5S13.67 10 14.5 10S16 10.67 16 11.5S15.33 13 14.5 13ZM12 7C11.45 7 11 6.55 11 6S11.45 5 12 5S13 5.45 13 6S12.55 7 12 7Z" fill={color}/></svg>),
            arrowLeft: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6L8 12L14 18L15.41 16.59L10.83 12L15.41 7.41Z" fill={color}/></svg>),
            globe: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 12v1c0 1.1.9 2 2 2v3.93zm2-8.93v-1c0-1.1-.9-2-2-2V8l-3.79-1.86c.64-1.21 1.57-2.24 2.68-2.97L10 5v1c0 1.1.9 2 2 2h1v1zm3.95 2.24c.23.64.35 1.31.35 2s-.12 1.36-.35 2L15 13v-1c0-1.1-.9-2-2-2h-1V8.86c1.21-.64 2.24-1.57 2.97-2.68L16 8v1c0 1.1.9 2 2 2h1.05z" fill={color}/></svg>),
            file: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" fill={color}/></svg>),
            upload: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z" fill={color}/></svg>),
            users: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" fill={color}/></svg>),
            activity: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z" fill={color}/></svg>),
            send: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" fill={color}/></svg>),
            close: (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill={color}/></svg>),
          };
          return <div>{icons[name]}</div>;
        };

        // --- Main App Component ---
        const App = () => {
          const [appState, setAppState] = useState({
            isLoading: true,
            screen: 'landing',
            language: 'Indonesia',
            isLoggedIn: false,
            user: null,
            adminView: { isEmulating: false, tier: null },
            upgradeContext: { required: null, from: null },
          });
          const [scanResult, setScanResult] = useState(null);
          const [isScanning, setIsScanning] = useState(false);
          const T = i18n[appState.language] || i18n.English;
          const lastUserScreen = useRef('dashboard');

          useEffect(() => {
            document.body.style.backgroundColor = '#0B0F19';
            const timer = setTimeout(() => setAppState(prev => ({ ...prev, isLoading: false })), 2000);
            return () => clearTimeout(timer);
          }, []);

          useEffect(() => {
            if(!['aura', 'upgrade'].includes(appState.screen)) {
                lastUserScreen.current = appState.screen;
            }
          }, [appState.screen]);

          const handleLogin = (username, password, tier) => {
            if (username === 'AdminSuperdata' && password === 'Data123') {
              setAppState(prev => ({ ...prev, isLoggedIn: true, screen: 'dashboard', user: { name: 'Admin', tier: 'Admin' } }));
              return;
            }
            if (username) {
               setAppState(prev => ({ ...prev, isLoggedIn: true, screen: 'dashboard', user: { name: username, tier: tier } }));
            }
          };
          
          const handleLogout = () => setAppState({ ...appState, isLoggedIn: false, user: null, screen: 'landing', adminView: { isEmulating: false, tier: null }});
          const handleNavigate = (screen) => setAppState(prev => ({ ...prev, screen }));
          
          const handleEmulate = (tier) => {
              setAppState(prev => ({...prev, screen: 'dashboard', adminView: { isEmulating: true, tier: tier }}));
          };
          
          const handleReturnToAdmin = () => {
              setAppState(prev => ({...prev, screen: 'dashboard', adminView: { isEmulating: false, tier: null }}));
          };

          const triggerUpgrade = (requiredTier) => {
              setAppState(prev => ({...prev, screen: 'upgrade', upgradeContext: { required: requiredTier, from: lastUserScreen.current }}));
          };

          const handleUpgrade = (newTier) => {
              setAppState(prev => ({
                  ...prev,
                  user: { ...prev.user, tier: newTier },
                  screen: prev.upgradeContext.from || 'dashboard',
                  upgradeContext: { required: null, from: null }
              }));
          };

          const handleRunScan = () => {
            setIsScanning(true);
            setScanResult(null);
            setTimeout(() => {
                const effectiveTier = appState.adminView.isEmulating ? appState.adminView.tier : appState.user.tier;
                
                let dataBreaches = [
                    { source: "Tokopedia (2020)", context: "Email, Name, Phone Number exposed." },
                    { source: "Facebook (2021)", context: "Phone Number exposed." }
                ];
                let phoneLeaks = [];
                let nikLeaks = [];

                if (['Premium', 'Pro', 'Admin'].includes(effectiveTier)) {
                    phoneLeaks = [
                        { source: "Lazada", context: "Registered with this phone number." },
                        { source: "Facebook", context: "Account recovery number." }
                    ];
                }
                if (['Pro', 'Admin'].includes(effectiveTier)) {
                    nikLeaks = [
                        { source: "Dark Web Forum 'BreachForums'", context: "NIK found in list related to illegal loan apps." },
                        { source: "Unverified E-commerce 'XYZ'", context: "NIK registered to an unknown account." }
                    ];
                }

                setScanResult({
                    creditScore: 'A',
                    publicSentiment: 'Neutral',
                    blacklistStatus: { text: "No entries found in corporate or government blacklists.", color: "#00E5FF" },
                    dataBreaches: dataBreaches,
                    phoneLeaks: phoneLeaks,
                    nikLeaks: nikLeaks,
                    recommendations: ['rec1', 'rec2', 'rec3'],
                });
                setIsScanning(false);
                handleNavigate('results');
            }, 3000);
          };

          if (appState.isLoading) return <SplashScreen />;

          const effectiveTier = appState.adminView.isEmulating ? appState.adminView.tier : appState.user?.tier;
          const effectiveUser = appState.adminView.isEmulating ? { name: `${appState.adminView.tier} User (Emulated)`, tier: appState.adminView.tier } : appState.user;

          const renderContent = () => {
            if (!appState.isLoggedIn) {
                switch (appState.screen) {
                    case 'forgotPassword': return <ForgotPasswordScreen onNavigate={handleNavigate} T={T} />;
                    case 'otp': return <OTPScreen onNavigate={handleNavigate} T={T} />;
                    case 'resetPassword': return <ResetPasswordScreen onNavigate={handleNavigate} T={T} />;
                    default: return <LandingScreen onLogin={handleLogin} onNavigate={handleNavigate} setLanguage={(lang) => setAppState(p => ({...p, language: lang}))} T={T} />;
                }
            }
            
            if (appState.screen === 'aura') {
                return <AuraCoreScreen onClose={() => handleNavigate(lastUserScreen.current)} T={T} userContext={{screen: lastUserScreen.current, user: effectiveUser}}/>
            }
            
            if (appState.screen === 'upgrade') {
                return <UpgradeScreen onBack={() => handleNavigate(appState.upgradeContext.from || 'dashboard')} onUpgrade={handleUpgrade} requiredTier={appState.upgradeContext.required} T={T} />;
            }

            if (appState.user?.tier === 'Admin' && !appState.adminView.isEmulating) {
                return <AdminDashboard onLogout={handleLogout} onEmulate={handleEmulate} T={T} />;
            }

            switch (appState.screen) {
              case 'check': return <CheckScreen userTier={effectiveTier} onRunScan={handleRunScan} onBack={() => handleNavigate('dashboard')} onUpgrade={triggerUpgrade} isScanning={isScanning} T={T}/>;
              case 'results': return <ResultsScreen result={scanResult} onBack={() => handleNavigate('dashboard')} userTier={effectiveTier} T={T}/>;
              case 'restore': return <RestoreScreen onBack={() => handleNavigate('dashboard')} T={T} />;
              case 'vault': return <VaultScreen onBack={() => handleNavigate('dashboard')} T={T} />;
              default: return <DashboardScreen user={effectiveUser} onNavigate={handleNavigate} onLogout={handleLogout} T={T} />;
            }
          };

          const showAuraButton = appState.isLoggedIn && (appState.user?.tier !== 'Admin' || appState.adminView.isEmulating);

          return (
            <div style={styles.safeArea}>
              <div style={styles.container}>
                {appState.adminView.isEmulating && <AdminReturnBanner onReturn={handleReturnToAdmin} tier={appState.adminView.tier} T={T} />}
                {renderContent()}
                {showAuraButton && <AIAssistant onToggle={() => handleNavigate('aura')} />}
              </div>
            </div>
          );
        };

        // --- Screen & UI Components ---

        const AnimatedBackground = ({ isNeural = false }) => {
            const canvasRef = useRef(null);
            useEffect(() => {
                const canvas = canvasRef.current; if (!canvas) return;
                const ctx = canvas.getContext('2d'); let animationFrameId;
                canvas.width = window.innerWidth; canvas.height = window.innerHeight;
                let particlesArray; const mouse = { x: null, y: null, radius: (canvas.height / 120) * (canvas.width / 120) };
                const handleMouseMove = (event) => { mouse.x = event.x; mouse.y = event.y; };
                window.addEventListener('mousemove', handleMouseMove);
                class Particle { constructor(x, y, directionX, directionY, size, color) { this.x = x; this.y = y; this.directionX = directionX; this.directionY = directionY; this.size = size; this.color = color; } draw() { ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false); ctx.fillStyle = isNeural ? `rgba(255, 0, 122, ${Math.random() * 0.5 + 0.2})` : 'rgba(0, 229, 255, 0.5)'; ctx.fill(); } update() { if (this.x > canvas.width || this.x < 0) this.directionX = -this.directionX; if (this.y > canvas.height || this.y < 0) this.directionY = -this.directionY; let dx = mouse.x - this.x; let dy = mouse.y - this.y; let distance = Math.sqrt(dx * dx + dy * dy); if (distance < mouse.radius + this.size) { if (mouse.x < this.x && this.x < canvas.width - this.size * 10) this.x += 3; if (mouse.x > this.x && this.x > this.size * 10) this.x -= 3; if (mouse.y < this.y && this.y < canvas.height - this.size * 10) this.y += 3; if (mouse.y > this.y && this.y > this.size * 10) this.y -= 3; } this.x += this.directionX; this.y += this.directionY; this.draw(); } }
                function init() { particlesArray = []; let numberOfParticles = (canvas.height * canvas.width) / (isNeural ? 12000 : 9000); for (let i = 0; i < numberOfParticles; i++) { let size = (Math.random() * 2) + 1; let x = (Math.random() * ((window.innerWidth - size * 2) - (size * 2)) + size * 2); let y = (Math.random() * ((window.innerHeight - size * 2) - (size * 2)) + size * 2); let directionX = (Math.random() * 0.4) - 0.2; let directionY = (Math.random() * 0.4) - 0.2; particlesArray.push(new Particle(x, y, directionX, directionY, size, 'rgba(0, 229, 255, 0.5)')); } }
                function connect() { let opacityValue = 1; for (let a = 0; a < particlesArray.length; a++) { for (let b = a; b < particlesArray.length; b++) { let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x)) + ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y)); if (distance < (canvas.width / 7) * (canvas.height / 7)) { opacityValue = 1 - (distance / 20000); ctx.strokeStyle = isNeural ? `rgba(255, 255, 255, ${opacityValue * 0.3})` :`rgba(0, 229, 255, ${opacityValue})`; ctx.lineWidth = 1; ctx.beginPath(); ctx.moveTo(particlesArray[a].x, particlesArray[a].y); ctx.lineTo(particlesArray[b].x, particlesArray[b].y); ctx.stroke(); } } } }
                function animate() { animationFrameId = requestAnimationFrame(animate); ctx.clearRect(0, 0, window.innerWidth, window.innerHeight); for (let i = 0; i < particlesArray.length; i++) { particlesArray[i].update(); } connect(); }
                const handleResize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; mouse.radius = (canvas.height / 120) * (canvas.width / 120); init(); };
                window.addEventListener('resize', handleResize);
                const handleMouseOut = () => { mouse.x = undefined; mouse.y = undefined; };
                window.addEventListener('mouseout', handleMouseOut);
                init(); animate();
                return () => { cancelAnimationFrame(animationFrameId); window.removeEventListener('resize', handleResize); window.removeEventListener('mousemove', handleMouseMove); window.removeEventListener('mouseout', handleMouseOut); };
            }, [isNeural]);
            return <canvas ref={canvasRef} style={styles.animatedCanvas}></canvas>;
        };

        const SplashScreen = () => <div style={{...styles.container, ...styles.centered}}><p style={styles.logoText}>SuperData</p><p style={styles.tagline}>Your Digital Reputation Guardian</p><div style={{marginTop: 30}}><div className="loader"></div></div><style>{loaderStyle}</style></div>;
        const LanguageSelector = ({ onSelect }) => { const [isOpen, setIsOpen] = useState(false); const languages = Object.keys(i18n); return (<div style={{ position: 'relative' }}><button onClick={() => setIsOpen(!isOpen)} style={styles.langButton}><Icon name="globe" size={28} color="#A0A0A0" /></button>{isOpen && (<div style={styles.langDropdown}>{languages.map(lang => (<button key={lang} style={styles.langItem} onClick={() => { onSelect(lang); setIsOpen(false); }}>{lang}</button>))}</div>)}</div>);};
        const LandingScreen = ({ onLogin, onNavigate, setLanguage, T }) => { const [username, setUsername] = useState(''); const [password, setPassword] = useState(''); const [email, setEmail] = useState(''); const [tier, setTier] = useState('Free'); const [authMode, setAuthMode] = useState('login'); return (<div style={styles.landingContainer}><AnimatedBackground /><div style={styles.langSelectorContainer}><LanguageSelector onSelect={setLanguage} /></div><div style={styles.landingHeader}><p style={styles.logoText}>SuperData</p><p style={styles.tagline}>{T.tagline}</p></div><div style={styles.loginBoxWrapper}><div style={styles.loginBox}><div style={styles.authToggle}><button onClick={() => setAuthMode('login')} style={authMode === 'login' ? styles.authToggleButtonActive : styles.authToggleButton}>{T.login}</button><button onClick={() => setAuthMode('register')} style={authMode === 'register' ? styles.authToggleButtonActive : styles.authToggleButton}>{T.register}</button></div>{authMode === 'login' ? (<><p style={styles.loginTitle}>{T.loginTitle}</p><input style={styles.input} placeholder="Username / Email" value={username} onChange={e => setUsername(e.target.value)} /><input style={styles.input} placeholder="Password" type="password" value={password} onChange={e => setPassword(e.target.value)} /><button style={styles.scanButton} onClick={() => onLogin(username, password, tier)}><span style={styles.scanButtonText}>{T.loginButton}</span></button><button style={styles.forgotPasswordButton} onClick={() => onNavigate('forgotPassword')}>{T.forgotPassword}</button></>) : (<><p style={styles.loginTitle}>{T.registerTitle}</p><input style={styles.input} placeholder="Username" value={username} onChange={e => setUsername(e.target.value)} /><input style={styles.input} placeholder="Email" type="email" value={email} onChange={e => setEmail(e.target.value)} /><input style={styles.input} placeholder="Password" type="password" value={password} onChange={e => setPassword(e.target.value)} /><div style={styles.tierSelector}>{['Free', 'Premium', 'Pro'].map(t => (<button key={t} style={tier === t ? styles.tierButtonActive : styles.tierButton} onClick={() => setTier(t)}>{t}</button>))}</div><button style={styles.scanButton} onClick={() => onLogin(username, password, tier)}><span style={styles.scanButtonText}>{T.registerButton}</span></button></>)}</div></div><div style={styles.creatorCredit}><p>Created by: {CREATOR_INFO.fullName}</p></div></div>);};
        const ForgotPasswordScreen = ({ onNavigate, T }) => (<div style={styles.formContainer}><button onClick={() => onNavigate('landing')} style={styles.backButton}><Icon name="arrowLeft" size={28} color="#00E5FF" /></button><p style={styles.title}>{T.pwResetTitle}</p><p style={{...styles.subtitle, lineHeight: 1.6}}>{T.pwResetDesc}</p><input style={{...styles.input, marginTop: 30}} placeholder={T.scanEmail} type="email" /><button style={styles.scanButton} onClick={() => onNavigate('otp')}><span style={styles.scanButtonText}>{T.sendOtp}</span></button></div>);
        const OTPScreen = ({ onNavigate, T }) => (<div style={styles.formContainer}><button onClick={() => onNavigate('forgotPassword')} style={styles.backButton}><Icon name="arrowLeft" size={28} color="#00E5FF" /></button><p style={styles.title}>{T.otpTitle}</p><p style={{...styles.subtitle, lineHeight: 1.6}}>{T.otpDesc}</p><input style={{...styles.input, marginTop: 30, textAlign: 'center', letterSpacing: '0.5em'}} placeholder="_ _ _ _ _ _" maxLength={6} /><button style={styles.scanButton} onClick={() => onNavigate('resetPassword')}><span style={styles.scanButtonText}>{T.verifyOtp}</span></button></div>);
        const ResetPasswordScreen = ({ onNavigate, T }) => { const [success, setSuccess] = useState(false); const handleReset = () => { setSuccess(true); setTimeout(() => onNavigate('landing'), 2000); }; return (<div style={styles.formContainer}><button onClick={() => onNavigate('otp')} style={styles.backButton}><Icon name="arrowLeft" size={28} color="#00E5FF" /></button><p style={styles.title}>{T.newPwTitle}</p><p style={{...styles.subtitle, lineHeight: 1.6}}>{T.newPwDesc}</p>{success ? (<p style={styles.successMessage}>{T.pwSuccess}</p>) : (<><input style={{...styles.input, marginTop: 30}} placeholder={T.newPassword} type="password" /><input style={styles.input} placeholder={T.confirmPassword} type="password" /><button style={styles.scanButton} onClick={handleReset}><span style={styles.scanButtonText}>{T.updatePassword}</span></button></>)}</div>);};
        const AdminDashboard = ({ onLogout, onEmulate, T }) => (<div style={styles.scrollContainer}><div style={styles.header}><p style={styles.title}>{T.adminDashboard}</p><p style={styles.subtitle}>{T.welcome}, {CREATOR_INFO.fullName} ({CREATOR_INFO.anonymousName})</p></div><div style={styles.resultCard}><p style={styles.resultHeader}>{T.platformMonitoring}</p><ResultItem label={T.apiStatus} value={T.online} color="#00E5FF" /><ResultItem label={T.dbStatus} value={T.stable} color="#00E5FF" /><ResultItem label={T.auraEngine} value={T.active} color="#00E5FF" /></div><div style={styles.resultCard}><p style={styles.resultHeader}>{T.userPOV}</p><div style={styles.povButtonContainer}><button style={styles.povButton} onClick={() => onEmulate('Free')}>{T.viewAsFree}</button><button style={styles.povButton} onClick={() => onEmulate('Premium')}>{T.viewAsPremium}</button><button style={styles.povButton} onClick={() => onEmulate('Pro')}>{T.viewAsPro}</button></div></div><div style={styles.resultCard}><p style={styles.resultHeader}>{T.userManagement}</p><div style={styles.userListItem}><p style={styles.fileName}>user1@email.com (Pro)</p><button style={styles.suspendButton}>Suspend</button></div><div style={styles.userListItem}><p style={styles.fileName}>user2@email.com (Free)</p><button style={styles.suspendButton}>Suspend</button></div></div><button style={{...styles.card, width: '100%'}} onClick={onLogout}><p style={styles.cardTitle}>{T.logout}</p><p style={styles.cardDescription}>{T.logoutDesc}</p></button></div>);
        const AdminReturnBanner = ({ onReturn, tier, T }) => (<div style={styles.adminBanner}><p style={styles.adminBannerText}>{T.adminBannerText} <strong>{tier}</strong></p><button onClick={onReturn} style={styles.adminReturnButton}>{T.returnToAdmin}</button></div>);
        const DashboardScreen = ({ user, onNavigate, onLogout, T }) => (<div style={styles.scrollContainer}><div style={styles.header}><p style={styles.title}>{T.welcome}, {user.name}</p><p style={styles.subtitle}>{T.loggedInAs}: <span style={{color: '#00E5FF'}}>{user.tier}</span></p></div><div style={styles.grid}><button style={styles.card} onClick={() => onNavigate('check')}><Icon name="userScan" size={40} color="#00E5FF" /><p style={styles.cardTitle}>{T.repCheck}</p><p style={styles.cardDescription}>{T.repCheckDesc}</p></button><button style={styles.card} onClick={() => onNavigate('restore')}><Icon name="shieldCheck" size={40} color="#FF007A" /><p style={styles.cardTitle}>{T.restoreName}</p><p style={styles.cardDescription}>{T.restoreNameDesc}</p></button><button style={styles.card} onClick={() => onNavigate('vault')}><Icon name="vault" size={40} color="#00E5FF" /><p style={styles.cardTitle}>{T.digitalVault}</p><p style={styles.cardDescription}>{T.digitalVaultDesc}</p></button><button style={styles.card} onClick={onLogout}><p style={styles.cardTitle}>{T.logout}</p><p style={styles.cardDescription}>{T.logoutDesc}</p></button></div></div>);
        const VaultScreen = ({ onBack, T }) => { const [files, setFiles] = useState([]); const handleFileChange = (event) => { const newFile = event.target.files[0]; if (newFile) { setFiles(prev => [...prev, { name: newFile.name, size: (newFile.size / 1024).toFixed(2) + ' KB' }]); } }; return (<div style={styles.formContainer}><button onClick={onBack} style={styles.backButton}><Icon name="arrowLeft" size={28} color="#00E5FF" /></button><p style={styles.title}>{T.vaultTitle}</p><p style={{...styles.subtitle, lineHeight: 1.6}}>{T.vaultDesc}</p><label style={{...styles.scanButton, marginTop: 30, cursor: 'pointer'}}><Icon name="upload" color="#0B0F19" /><span style={{...styles.scanButtonText, marginLeft: 10}}>{T.uploadButton}</span><input type="file" style={{ display: 'none' }} onChange={handleFileChange} /></label><div style={styles.fileListContainer}>{files.length === 0 ? (<p style={styles.vaultEmptyText}>{T.vaultEmpty}</p>) : (files.map((file, index) => (<div key={index} style={styles.fileListItem}><Icon name="file" color="#00E5FF" /><p style={styles.fileName}>{file.name}</p><p style={styles.fileSize}>{file.size}</p></div>)))}</div></div>);};
        const RestoreScreen = ({ onBack, T }) => (<div style={styles.formContainer}><button onClick={onBack} style={styles.backButton}><Icon name="arrowLeft" size={28} color="#00E5FF" /></button><p style={styles.title}>{T.restoreTitle}</p><p style={{...styles.subtitle, lineHeight: 1.6}}>{T.restoreDesc}</p><div style={{marginTop: 30}}><div style={styles.stepItem}><div style={styles.stepIcon}><Icon name="aiBot" color="#00E5FF" /></div><div><p style={styles.stepTitle}>{T.step1}</p><p style={styles.stepDesc}>{T.step1Desc}</p></div></div><div style={styles.stepItem}><div style={styles.stepIcon}><Icon name="file" color="#FF007A" /></div><div><p style={styles.stepTitle}>{T.step2}</p><p style={styles.stepDesc}>{T.step2Desc}</p></div></div><div style={styles.stepItem}><div style={styles.stepIcon}><Icon name="shieldCheck" color="#00E5FF" /></div><div><p style={styles.stepTitle}>{T.step3}</p><p style={styles.stepDesc}>{T.step3Desc}</p></div></div></div><button style={{...styles.actionButton, marginTop: 30}}><span style={styles.actionButtonText}>{T.generateDoc}</span></button></div>);
        const CheckScreen = ({ userTier, onRunScan, onBack, onUpgrade, isScanning, T }) => (<div style={styles.formContainer}><button onClick={onBack} style={styles.backButton}><Icon name="arrowLeft" size={28} color="#00E5FF" /></button><p style={styles.title}>{T.scanTitle}</p><p style={styles.subtitle}>{T.scanSubtitle}</p><input style={styles.input} placeholder={T.scanFullName} /><input style={styles.input} placeholder={T.scanDob} /><input style={styles.input} placeholder={T.scanEmail} type="email" /><div onClick={() => userTier === 'Free' && onUpgrade('Premium')}><input style={styles.input} placeholder={T.scanPhone} type="tel" disabled={userTier === 'Free'} /></div><div onClick={() => userTier !== 'Pro' && onUpgrade('Pro')}><input style={styles.input} placeholder={T.scanNik} disabled={userTier !== 'Pro'} /><input style={styles.input} placeholder={T.scanKk} disabled={userTier !== 'Pro'} />{userTier === 'Pro' && (<div style={styles.secureScanNotice}><Icon name="shieldCheck" size={16} color="#00E5FF" /><p style={styles.secureScanText}>{T.secureScanActive}</p></div>)}</div><p style={styles.disclaimer}>{T.scanDisclaimer}</p><button style={styles.scanButton} onClick={onRunScan} disabled={isScanning}>{isScanning ? <div className="mini-loader"></div> : <span style={styles.scanButtonText}>{T.startScan}</span>}</button><style>{miniLoaderStyle}</style></div>);
        const ResultsScreen = ({ result, onBack, userTier, T }) => (<div style={styles.scrollContainer}><button onClick={onBack} style={styles.backButtonAbsolute}><Icon name="arrowLeft" size={28} color="#00E5FF" /></button><p style={styles.title}>{T.scanResults}</p><div style={styles.resultCard}><p style={styles.resultHeader}>{T.summary}</p><ResultItem label={T.creditScore} value={result.creditScore} color="#00E5FF" /><ResultItem label={T.publicSentiment} value={result.publicSentiment} /><ResultItem label={T.blacklistStatus} value={result.blacklistStatus.text} color={result.blacklistStatus.color} /></div>{result.dataBreaches.length > 0 && <div style={styles.resultCard}><p style={styles.resultHeader}>{T.dataBreaches}</p>{result.dataBreaches.map((item, i) => <DetailItem key={i} source={item.source} context={item.context} T={T} />)}</div>}{result.phoneLeaks.length > 0 && <div style={styles.resultCard}><p style={styles.resultHeader}>{T.phoneLeak}</p>{result.phoneLeaks.map((item, i) => <DetailItem key={i} source={item.source} context={item.context} T={T} />)}</div>}{result.nikLeaks.length > 0 && <div style={styles.resultCard}><p style={styles.resultHeader}>{T.nikLeak}</p>{result.nikLeaks.map((item, i) => <DetailItem key={i} source={item.source} context={item.context} T={T} />)}</div>}<div style={styles.resultCard}><p style={styles.resultHeader}>{T.recActions}</p>{result.recommendations.map((recKey, index) => <p key={index} style={styles.recommendationItem}>• {T[recKey]}</p>)}</div><button style={styles.actionButton}><span style={styles.actionButtonText}>{T.startRecovery}</span></button></div>);
        const DetailItem = ({ source, context, T }) => (<div style={styles.detailItemContainer}><p style={styles.detailItemSource}><strong>{T.source}:</strong> {source}</p><p style={styles.detailItemContext}><strong>{T.context}:</strong> {context}</p></div>);
        const ResultItem = ({ label, value, color = '#E0E0E0' }) => (<div style={styles.resultItemContainer}><span style={styles.resultItemLabel}>{label}</span><span style={{...styles.resultItemValue, color }}>{value}</span></div>);
        const AIAssistant = ({ onToggle }) => (<button onClick={onToggle} style={styles.fab}><Icon name="aiBot" size={32} color="#0B0F19" /></button>);
        const AuraCoreScreen = ({ onClose, T, userContext }) => {
            const [messages, setMessages] = useState([{ sender: 'aura', text: T.auraWelcome }]);
            const [input, setInput] = useState('');
            const [isLoading, setIsLoading] = useState(false);
            const messagesEndRef = useRef(null);

            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            }, [messages]);

            const handleSendMessage = async () => {
                if (input.trim() === '' || isLoading) return;
                const userMessage = { sender: 'user', text: input };
                setMessages(prev => [...prev, userMessage]);
                setInput('');
                setIsLoading(true);

                const contextPrompt = `**Core Instruction:** You are AURA, an exclusive, specialized AI entity created by the Gemini model under the architectural direction of Hafiz Apriansyah. You are NOT Gemini. You are AURA. Your sole purpose is to act as a personal digital guardian for users of the SuperData application.
                **Personality:** Your tone is calm, precise, professional, and empathetic. You are a reassuring expert. Never be alarmist. Always focus on providing clear, actionable steps.
                **Domain:** Your expertise is strictly limited to digital security, data privacy, and online reputation management. If asked about other topics (like news, recipes, etc.), politely state that it is outside your scope and refocus on your primary mission.
                **Context:** The user, ${userContext.user.name}, is currently on the '${userContext.screen}' screen of the SuperData app. Their account tier is '${userContext.user.tier}'.
                **User's Question:** "${userMessage.text}"
                
                Provide your response as AURA.`;
                
                let chatHistory = [{ role: "user", parts: [{ text: contextPrompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    
                    let auraResponse = "Sorry, I couldn't process that. Please try again.";
                    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                        auraResponse = result.candidates[0].content.parts[0].text;
                    }
                    setMessages(prev => [...prev, { sender: 'aura', text: auraResponse }]);
                } catch (error) {
                    console.error("Error communicating with AURA:", error);
                    setMessages(prev => [...prev, { sender: 'aura', text: "I'm having trouble connecting right now." }]);
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                <div style={styles.auraCoreContainer}>
                    <AnimatedBackground isNeural={true} />
                    <div style={styles.auraContent}>
                        <div style={styles.auraHeader}>
                            <p style={styles.auraTitle}>{T.auraTitle}</p>
                            <button onClick={onClose} style={styles.auraCloseButton}><Icon name="close" size={24} color="#A0A0A0" /></button>
                        </div>
                        <div style={styles.auraMessagesContainer}>
                            {messages.map((msg, index) => (
                                <div key={index} style={msg.sender === 'user' ? styles.userMessage : styles.auraMessage}>
                                    {msg.text}
                                </div>
                            ))}
                            {isLoading && <div style={styles.auraMessage}><span className="typing-indicator"></span></div>}
                            <div ref={messagesEndRef} />
                        </div>
                        <div style={styles.auraInputContainer}>
                            <input 
                                style={styles.auraInput} 
                                placeholder={T.auraPlaceholder} 
                                value={input} 
                                onChange={e => setInput(e.target.value)}
                                onKeyPress={e => e.key === 'Enter' && handleSendMessage()}
                            />
                            <button onClick={handleSendMessage} style={styles.auraSendButton}><Icon name="send" size={20} color="#00E5FF" /></button>
                        </div>
                    </div>
                    <style>{typingIndicatorStyle}</style>
                </div>
            );
        };

        const UpgradeScreen = ({ onBack, onUpgrade, requiredTier, T }) => {
            const paypalLink = "https://paypal.me/afizaprians";
            return (
                <div style={styles.formContainer}>
                    <button onClick={onBack} style={styles.backButton}><Icon name="arrowLeft" size={28} color="#00E5FF" /></button>
                    <p style={styles.title}>{T.upgradeTitle}</p>
                    <p style={{...styles.subtitle, lineHeight: 1.6}}>{T.upgradeSubtitle}</p>
                    
                    <div style={styles.upgradeCard}>
                        <p style={styles.upgradeTierTitle}>{T.upgradeToPremium} - Rp 25.000/bln</p>
                        <p style={styles.upgradeFeature}>✓ {T.premiumFeature1}</p>
                        <p style={styles.upgradeFeature}>✓ {T.premiumFeature2}</p>
                    </div>

                    {requiredTier === 'Pro' && (
                         <div style={styles.upgradeCard}>
                            <p style={styles.upgradeTierTitle}>{T.upgradeToPro} - Rp 99.000/bln</p>
                            <p style={styles.upgradeFeature}>✓ {T.proFeature1}</p>
                            <p style={styles.upgradeFeature}>✓ {T.proFeature2}</p>
                            <p style={styles.upgradeFeature}>✓ {T.proFeature3}</p>
                        </div>
                    )}

                    <div style={styles.paymentContainer}>
                        <a href={paypalLink} target="_blank" rel="noopener noreferrer" style={{textDecoration: 'none', flex: 1}}>
                            <button style={{...styles.scanButton, width: '100%'}}><span style={styles.scanButtonText}>{T.payWithPayPal}</span></button>
                        </a>
                        <div style={{width: '15px'}}></div>
                        <div style={{flex: 1}}>
                            <p style={styles.paymentTitle}>{T.payWithBCA}</p>
                            <p style={styles.paymentDetails}>{T.bcaNumber}</p>
                            <p style={styles.paymentDetails}>{T.bcaName}</p>
                        </div>
                    </div>

                    <p style={styles.paymentNoteText}>{T.paymentNote}</p>
                    
                    <button style={{...styles.actionButton, marginTop: '15px'}} onClick={() => onUpgrade(requiredTier)}>
                        <span style={styles.actionButtonText}>{T.confirmPayment}</span>
                    </button>
                </div>
            );
        };


        // --- Stylesheet ---
        const loaderStyle = `.loader{border:4px solid #1C1E2D;border-top:4px solid #00E5FF;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}`;
        const miniLoaderStyle = `.mini-loader{border:3px solid rgba(11,15,25,.3);border-top:3px solid #0B0F19;border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite}`;
        const typingIndicatorStyle = `.typing-indicator{display:inline-block;width:25px;height:12px;position:relative;background:transparent;}.typing-indicator::after{content:'';position:absolute;width:4px;height:4px;border-radius:50%;background:#00E5FF;animation:typing 1s infinite;left:0;top:4px;}.typing-indicator::before{content:'';position:absolute;width:4px;height:4px;border-radius:50%;background:#00E5FF;animation:typing 1s infinite;left:10px;top:4px;animation-delay:0.2s;}.typing-indicator span{position:absolute;width:4px;height:4px;border-radius:50%;background:#00E5FF;animation:typing 1s infinite;left:20px;top:4px;animation-delay:0.4s;}@keyframes typing{0%,100%{transform:translateY(0);opacity:0.5;}50%{transform:translateY(-4px);opacity:1;}}`;
        const styles = {
          safeArea: { flex: 1, backgroundColor: '#0B0F19', fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif' },
          container: { width: '100%', maxWidth: '100%', margin: '0 auto', backgroundColor: '#0B0F19', minHeight: '100vh', position: 'relative' },
          animatedCanvas: { position: 'fixed', top: 0, left: 0, zIndex: 0, background: '#0B0F19' },
          landingContainer: { display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'space-around', minHeight: '100vh', padding: '20px', boxSizing: 'border-box', position: 'relative', zIndex: 1 },
          landingHeader: { textAlign: 'center', animation: 'fadeInDown 1s ease-out', zIndex: 2 },
          loginBoxWrapper: { width: '100%', maxWidth: '450px', zIndex: 2 },
          loginBox: { width: '100%', backgroundColor: 'rgba(11, 15, 25, 0.75)', borderRadius: '20px', padding: '30px', border: '1px solid rgba(0, 229, 255, 0.2)', backdropFilter: 'blur(12px) saturate(180%)', WebkitBackdropFilter: 'blur(12px) saturate(180%)' },
          authToggle: { display: 'flex', backgroundColor: '#0B0F19', borderRadius: '10px', marginBottom: '20px', padding: '4px' },
          authToggleButton: { flex: 1, padding: '10px', background: 'transparent', border: 'none', color: '#A0A0A0', fontSize: '16px', cursor: 'pointer', borderRadius: '8px' },
          authToggleButtonActive: { flex: 1, padding: '10px', background: '#1C1E2D', border: 'none', color: '#FFFFFF', fontSize: '16px', cursor: 'pointer', borderRadius: '8px', fontWeight: 'bold' },
          loginTitle: { fontSize: '24px', fontWeight: 'bold', color: '#FFFFFF', textAlign: 'center', marginBottom: '25px' },
          creatorCredit: { position: 'absolute', bottom: '15px', color: '#666', fontSize: '12px', zIndex: 2 },
          scrollContainer: { padding: 20, boxSizing: 'border-box', height: '100%', overflowY: 'auto' },
          centered: { display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', height: '100vh' },
          logoText: { fontSize: '64px', fontWeight: 'bold', color: '#FFFFFF', letterSpacing: '2px', margin: 0, textShadow: '0 0 25px rgba(0, 229, 255, 0.7)' },
          tagline: { fontSize: '18px', color: '#00E5FF', marginTop: '10px', margin: 0 },
          header: { marginBottom: '30px' },
          title: { fontSize: '32px', fontWeight: 'bold', color: '#FFFFFF', marginBottom: '8px', margin: 0 },
          subtitle: { fontSize: '18px', color: '#A0A0A0', margin: 0 },
          grid: { display: 'flex', flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'space-between' },
          card: { width: 'calc(50% - 10px)', height: '180px', backgroundColor: '#1C1E2D', borderRadius: '20px', padding: '15px', marginBottom: '20px', display: 'flex', flexDirection: 'column', justifyContent: 'center', border: '1px solid rgba(0, 229, 255, 0.2)', color: 'white', textAlign: 'left', cursor: 'pointer', transition: 'transform 0.3s ease, box-shadow 0.3s ease' },
          cardTitle: { fontSize: '18px', fontWeight: 'bold', color: '#FFFFFF', marginTop: '12px', margin: 0 },
          cardDescription: { fontSize: '13px', color: '#A0A0A0', marginTop: '4px', margin: 0 },
          fab: { position: 'fixed', right: '25px', bottom: '25px', width: '64px', height: '64px', borderRadius: '32px', backgroundColor: '#00E5FF', display: 'flex', justifyContent: 'center', alignItems: 'center', border: 'none', cursor: 'pointer', boxShadow: '0 4px 8px rgba(0, 229, 255, 0.5)', zIndex: 1000 },
          formContainer: { flex: 1, padding: '20px' },
          backButton: { marginBottom: '20px', background: 'none', border: 'none', cursor: 'pointer', padding: 0, alignSelf: 'flex-start' },
          backButtonAbsolute: { position: 'absolute', top: '20px', left: '20px', zIndex: 10, background: 'none', border: 'none', cursor: 'pointer', padding: 0 },
          input: { backgroundColor: '#1C1E2D', color: '#FFFFFF', padding: '14px 18px', borderRadius: '12px', fontSize: '16px', marginBottom: '15px', border: '1px solid rgba(0, 229, 255, 0.3)', width: '100%', boxSizing: 'border-box', transition: 'border-color 0.3s ease, box-shadow 0.3s ease' },
          disclaimer: { fontSize: '12px', color: '#A0A0A0', textAlign: 'center', margin: '20px 0' },
          scanButton: { backgroundColor: '#00E5FF', padding: '15px', borderRadius: '12px', display: 'flex', justifyContent: 'center', alignItems: 'center', border: 'none', cursor: 'pointer', width: '100%', marginTop: '20px', transition: 'transform 0.2s ease, background-color 0.3s ease' },
          scanButtonText: { color: '#0B0F19', fontSize: '18px', fontWeight: 'bold' },
          resultCard: { backgroundColor: '#1C1E2D', borderRadius: '20px', padding: '20px', marginBottom: '20px', border: '1px solid rgba(0, 229, 255, 0.2)' },
          resultHeader: { fontSize: '20px', fontWeight: 'bold', color: '#FFFFFF', marginBottom: '15px', borderBottom: '1px solid rgba(0, 229, 255, 0.2)', paddingBottom: '10px', margin: 0 },
          resultItemContainer: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '8px 0' },
          resultItemLabel: { fontSize: '16px', color: '#A0A0A0' },
          resultItemValue: { fontSize: '16px', fontWeight: 'bold' },
          recommendationItem: { fontSize: '15px', color: '#E0E0E0', lineHeight: 1.5, marginBottom: '5px', margin: 0 },
          actionButton: { backgroundColor: '#FF007A', padding: '15px', borderRadius: '12px', display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '10px', border: 'none', cursor: 'pointer', width: '100%', transition: 'transform 0.2s ease' },
          actionButtonText: { color: '#FFFFFF', fontSize: '18px', fontWeight: 'bold' },
          langSelectorContainer: { position: 'absolute', top: '20px', right: '20px', zIndex: 2 },
          langButton: { background: 'none', border: 'none', cursor: 'pointer' },
          langDropdown: { position: 'absolute', top: '40px', right: '0', backgroundColor: '#1C1E2D', borderRadius: '8px', border: '1px solid rgba(0, 229, 255, 0.3)', zIndex: 100, maxHeight: '200px', overflowY: 'auto' },
          langItem: { display: 'block', width: '100%', padding: '10px 20px', background: 'none', border: 'none', color: '#FFFFFF', textAlign: 'left', cursor: 'pointer' },
          tierSelector: { display: 'flex', justifyContent: 'space-around', width: '100%', margin: '10px 0' },
          tierButton: { flex: 1, padding: '10px', margin: '0 5px', borderRadius: '8px', border: '1px solid #00E5FF', background: 'transparent', color: '#00E5FF', cursor: 'pointer', fontSize: '16px', transition: 'background-color 0.3s ease, color 0.3s ease' },
          tierButtonActive: { flex: 1, padding: '10px', margin: '0 5px', borderRadius: '8px', border: '1px solid #00E5FF', background: '#00E5FF', color: '#0B0F19', cursor: 'pointer', fontSize: '16px', fontWeight: 'bold' },
          fileListContainer: { marginTop: '30px' },
          vaultEmptyText: { color: '#A0A0A0', textAlign: 'center', fontSize: '16px' },
          fileListItem: { display: 'flex', alignItems: 'center', backgroundColor: '#1C1E2D', padding: '10px 15px', borderRadius: '10px', marginBottom: '10px' },
          fileName: { color: '#FFFFFF', fontSize: '16px', marginLeft: '15px', flex: 1 },
          fileSize: { color: '#A0A0A0', fontSize: '14px' },
          stepItem: { display: 'flex', alignItems: 'center', marginBottom: '25px' },
          stepIcon: { width: '50px', height: '50px', borderRadius: '25px', backgroundColor: '#1C1E2D', display: 'flex', justifyContent: 'center', alignItems: 'center', marginRight: '20px' },
          stepTitle: { color: '#FFFFFF', fontSize: '18px', fontWeight: 'bold', margin: 0 },
          stepDesc: { color: '#A0A0A0', fontSize: '14px', margin: 0 },
          forgotPasswordButton: { background: 'none', border: 'none', color: '#00E5FF', cursor: 'pointer', marginTop: '15px', fontSize: '14px' },
          successMessage: { color: '#00E5FF', textAlign: 'center', fontSize: '18px', fontWeight: 'bold', marginTop: '30px' },
          userListItem: { display: 'flex', alignItems: 'center', backgroundColor: 'rgba(0,0,0,0.2)', padding: '10px 15px', borderRadius: '10px', marginBottom: '10px' },
          suspendButton: { backgroundColor: '#FF007A', color: 'white', border: 'none', borderRadius: '5px', padding: '5px 10px', cursor: 'pointer' },
          secureScanNotice: { display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '8px', borderRadius: '8px', backgroundColor: 'rgba(0, 229, 255, 0.1)', marginBottom: '15px' },
          secureScanText: { color: '#00E5FF', marginLeft: '8px', fontSize: '12px', fontWeight: 'bold' },
          povButtonContainer: { display: 'flex', justifyContent: 'space-between', gap: '10px' },
          povButton: { flex: 1, backgroundColor: 'rgba(0, 229, 255, 0.1)', border: '1px solid #00E5FF', color: '#00E5FF', padding: '10px', borderRadius: '8px', cursor: 'pointer' },
          adminBanner: { position: 'fixed', top: 0, left: 0, width: '100%', backgroundColor: '#FFD700', padding: '10px', zIndex: 2000, display: 'flex', justifyContent: 'center', alignItems: 'center' },
          adminBannerText: { color: '#0B0F19', margin: '0 15px 0 0', fontWeight: 'bold' },
          adminReturnButton: { backgroundColor: '#0B0F19', color: '#FFD700', border: 'none', padding: '5px 15px', borderRadius: '5px', cursor: 'pointer', fontWeight: 'bold' },
          detailItemContainer: { borderLeft: '3px solid #00E5FF', paddingLeft: '15px', marginBottom: '15px' },
          detailItemSource: { color: '#FFFFFF', margin: 0, fontSize: '16px' },
          detailItemContext: { color: '#A0A0A0', margin: '4px 0 0 0', fontSize: '14px' },
          auraCoreContainer: { position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', zIndex: 1500, display: 'flex', flexDirection: 'column' },
          auraContent: { flex: 1, zIndex: 1, display: 'flex', flexDirection: 'column', backgroundColor: 'rgba(11, 15, 25, 0.85)', backdropFilter: 'blur(10px)', WebkitBackdropFilter: 'blur(10px)', overflow: 'hidden' },
          auraHeader: { padding: '15px 20px', borderBottom: '1px solid rgba(0, 229, 255, 0.2)', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexShrink: 0 },
          auraTitle: { color: '#FFFFFF', fontSize: '20px', fontWeight: 'bold', margin: 0 },
          auraCloseButton: { background: 'none', border: 'none', cursor: 'pointer' },
          auraMessagesContainer: { flex: 1, padding: '15px', overflowY: 'auto' },
          auraMessage: { alignSelf: 'flex-start', backgroundColor: '#2a2f45', color: '#E0E0E0', padding: '10px 15px', borderRadius: '15px 15px 15px 0', marginBottom: '10px', maxWidth: '80%', lineHeight: 1.5 },
          userMessage: { alignSelf: 'flex-end', backgroundColor: '#00E5FF', color: '#0B0F19', padding: '10px 15px', borderRadius: '15px 15px 0 15px', marginBottom: '10px', maxWidth: '80%', lineHeight: 1.5 },
          auraInputContainer: { display: 'flex', padding: '15px', borderTop: '1px solid rgba(0, 229, 255, 0.2)', flexShrink: 0 },
          auraInput: { flex: 1, backgroundColor: '#0B0F19', border: '1px solid #2a2f45', borderRadius: '20px', padding: '10px 15px', color: '#FFFFFF', fontSize: '14px' },
          auraSendButton: { background: 'none', border: 'none', cursor: 'pointer', marginLeft: '10px' },
          upgradeCard: { backgroundColor: '#1C1E2D', borderRadius: '20px', padding: '20px', margin: '20px 0', border: '1px solid rgba(0, 229, 255, 0.2)' },
          upgradeTierTitle: { color: '#00E5FF', fontSize: '22px', fontWeight: 'bold', margin: '0 0 15px 0' },
          upgradeFeature: { color: '#E0E0E0', fontSize: '16px', margin: '0 0 10px 0' },
          paymentContainer: { display: 'flex', alignItems: 'center', marginTop: '30px' },
          paymentTitle: { color: '#FFFFFF', margin: '0 0 5px 0', fontSize: '16px', textAlign: 'center' },
          paymentDetails: { color: '#A0A0A0', margin: 0, textAlign: 'center' },
          paymentNoteText: { fontSize: '12px', color: '#A0A0A0', textAlign: 'center', margin: '20px 0 0 0', fontStyle: 'italic' },
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);

    </script>
</body>
</html>
